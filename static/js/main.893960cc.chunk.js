(this["webpackJsonpnextia-test"]=this["webpackJsonpnextia-test"]||[]).push([[0],{26:function(e,t,c){},97:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),s=c(21),r=c.n(s),i=(c(26),c(14)),l=c(25),j=c(51),d="[Auth] Login",o="[Auth] Logout",b="[CART] load_cards",u="[CART] load_benevits",O={cards:{},loaded:!1},h={benevits:[],loaded:!1},x="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.c;var m=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){}}(),v=Object(l.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return{authorization:t.payload.authorization,email:t.payload.email,member:t.payload.member};case o:return null;default:return e}},cards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0,c=t.type,n=t.payload;return c===b?{cards:n.cards,loaded:!0}:e},benevits:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0,c=t.type,n=t.payload;return c===u?{benevits:n.benevits,loaded:!0}:e}}),p=Object(l.d)(v,m,x(Object(l.a)(j.a)));p.subscribe((function(){return function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(c){console.log(c)}}(p.getState())}));var f=c(28),g=c(4),N=c(1);function w(){return Object(N.jsx)("div",{children:Object(N.jsx)("h2",{children:"404 Not Found"})})}var y=c(6),k=function(){var e=Object(n.useState)(!1),t=Object(y.a)(e,2),c=t[0],s=t[1],r=Object(n.useState)(!1),i=Object(y.a)(r,2),l=i[0],j=i[1],d=Object(n.useState)(!0),o=Object(y.a)(d,2),b=o[0],u=o[1];return a.a.useEffect((function(){var e=function(){window.innerWidth<700?(s(!0),j(!1),u(!1)):window.innerWidth<992?(s(!1),j(!0),u(!1)):(s(!1),j(!1),u(!0))};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),{isMobile:c,isTablet:l,isDesktop:b}},S=c(20),E=c.n(S);function C(e){return Object(N.jsx)("div",{onClick:e.close,style:{position:"fixed",top:0,left:0,backgroundColor:"rgba(0,0,0,0.4)",width:"100%",height:"100%",display:"grid",placeItems:"center"},children:e.children})}function A(e){var t=k().isMobile;return Object(N.jsx)(N.Fragment,{children:e.show?r.a.createPortal(Object(N.jsx)(C,{close:e.close,children:Object(N.jsx)("div",{onClick:function(e){e.stopPropagation()},style:{width:t?"100%":"40%",height:"40%",backgroundColor:"#ffffff",borderRadius:"2rem",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:Object(N.jsx)(E.a,{children:Object(N.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:e.children})})})}),document.getElementById("Modal")):null})}var _=c.p+"static/media/logo.a8b0abe2.png";function F(e){return Object(N.jsx)("div",{children:Object(N.jsx)("nav",{class:"navbar navbar-expand-lg navbar-light bg-light",children:Object(N.jsxs)("div",{class:"container-fluid",children:[Object(N.jsx)("a",{class:"navbar-brand",href:"#",children:"NEXTIA"}),Object(N.jsx)("img",{src:_,width:"140",alt:"nextia"}),Object(N.jsx)("div",{type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation",children:e.children})]})})})}var L=c(58);function I(e){var t=e.card,c=e.button;return Object(N.jsxs)("div",{className:"card",style:{margin:"2rem",width:"30rem",backgroundColor:"#9F9F9F"},children:[Object(N.jsx)("img",{src:t.ally.mini_logo_full_path,className:"card-img-top logos",alt:t.name}),Object(N.jsx)("img",{src:t.vector_full_path,className:"card-img-top logos",alt:t.title}),Object(N.jsxs)("div",{className:"card-body",children:[Object(N.jsx)("h6",{className:"card-title",children:t.title}),Object(N.jsx)("p",{className:"card-text",children:t.description})]}),c&&Object(N.jsx)("a",{href:"#",class:"btn btn-primary",children:"lo Quiero!"})]})}var R=function(e){var t=e.cards,c=e.button;return Object(N.jsx)("div",{style:{display:"flex",flexWrap:"wrap",width:"100%",justifyContent:"space-evenly"},children:t.map((function(e){return Object(N.jsx)(I,{card:e,button:c})}))})},z=function(e){var t=Object(i.c)((function(e){return e.benevits})),c=t.benevits,a=t.loaded,s=Object(i.c)((function(e){return e.cards})),r=Object(n.useState)([]),l=Object(y.a)(r,2),j=l[0],d=l[1];return Object(n.useEffect)((function(){if(console.log("LOADED + "+a),a){var e=s.cards.reduce((function(e,t){var n=c.locked.filter((function(e){return e.wallet.name===t.name})),a=c.unlocked.filter((function(e){return e.wallet.name===t.name})),s={section:t.name,cardsLocked:n,cardsUnlocked:a};return[].concat(Object(L.a)(e),[s])}),[]);d(e)}}),[a]),Object(N.jsx)(N.Fragment,{children:j.map((function(e){var t=0===e.cardsUnlocked.length;return Object(N.jsxs)("fieldset",{style:{margin:"10px"},children:[Object(N.jsxs)("legend",{children:[e.section," "]}),!t&&Object(N.jsx)("div",{className:"cards benevit",style:{margin:"10px"},children:Object(N.jsx)(R,{cards:e.cardsUnlocked})}),Object(N.jsx)("div",{className:"cards benevitl",style:{margin:"10px"},children:Object(N.jsx)(R,{cards:e.cardsLocked,button:!0})})]})}))})},D=c(2),B=c.n(D);function T(){return Object(N.jsx)(D.SkeletonTheme,{color:"#fffff",highlightColor:"#F6F6F6",children:Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(N.jsx)("nav",{children:Object(N.jsx)("div",{className:"container-fluid",children:Object(N.jsx)(B.a,{})})})}),Object(N.jsx)("div",{className:"container center",children:Object(N.jsx)("div",{className:"cards",children:Object(N.jsxs)("fieldset",{children:[Object(N.jsx)("legend",{children:Object(N.jsx)(B.a,{})}),Object(N.jsx)(B.a,{})]})})}),Object(N.jsx)("div",{className:"container center",children:Object(N.jsx)("div",{className:"cards",children:Object(N.jsxs)("fieldset",{children:[Object(N.jsx)("legend",{children:Object(N.jsx)(B.a,{})}),Object(N.jsx)(B.a,{})]})})}),Object(N.jsx)("div",{className:"container center",children:Object(N.jsx)("div",{className:"cards",children:Object(N.jsxs)("fieldset",{children:[Object(N.jsx)("legend",{children:Object(N.jsx)(B.a,{})}),Object(N.jsx)(B.a,{})]})})}),Object(N.jsx)("div",{className:"container center",children:Object(N.jsx)("div",{className:"cards",children:Object(N.jsxs)("fieldset",{children:[Object(N.jsx)("legend",{children:Object(N.jsx)(B.a,{})}),Object(N.jsx)(B.a,{})]})})}),Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsx)(B.a,{}),Object(N.jsx)("label",{className:"form-label",children:Object(N.jsx)(B.a,{})})]}),Object(N.jsx)("div",{className:"container",children:Object(N.jsx)(B.a,{})}),Object(N.jsx)("div",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(N.jsx)("nav",{children:Object(N.jsx)("div",{className:"container-fluid",children:Object(N.jsx)(B.a,{})})})}),Object(N.jsx)("div",{className:"container center",children:Object(N.jsx)("div",{className:"cards",children:Object(N.jsxs)("fieldset",{children:[Object(N.jsx)("legend",{children:Object(N.jsx)(B.a,{})}),Object(N.jsx)(B.a,{})]})})}),Object(N.jsx)("div",{className:"container center",children:Object(N.jsx)("div",{className:"cards",children:Object(N.jsxs)("fieldset",{children:[Object(N.jsx)("legend",{children:Object(N.jsx)(B.a,{})}),Object(N.jsx)(B.a,{})]})})}),Object(N.jsx)("div",{className:"container center",children:Object(N.jsx)("div",{className:"cards",children:Object(N.jsxs)("fieldset",{children:[Object(N.jsx)("legend",{children:Object(N.jsx)(B.a,{})}),Object(N.jsx)(B.a,{})]})})}),Object(N.jsx)("div",{className:"container center",children:Object(N.jsx)("div",{className:"cards",children:Object(N.jsxs)("fieldset",{children:[Object(N.jsx)("legend",{children:Object(N.jsx)(B.a,{})}),Object(N.jsx)(B.a,{})]})})}),Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsx)(B.a,{}),Object(N.jsx)("label",{className:"form-label",children:Object(N.jsx)(B.a,{})})]}),Object(N.jsx)("div",{className:"container",children:Object(N.jsx)(B.a,{})}),Object(N.jsx)("div",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(N.jsx)("nav",{children:Object(N.jsx)("div",{className:"container-fluid",children:Object(N.jsx)(B.a,{})})})}),Object(N.jsx)("div",{className:"container center",children:Object(N.jsx)("div",{className:"cards",children:Object(N.jsxs)("fieldset",{children:[Object(N.jsx)("legend",{children:Object(N.jsx)(B.a,{})}),Object(N.jsx)(B.a,{})]})})}),Object(N.jsx)("div",{className:"container center",children:Object(N.jsx)("div",{className:"cards",children:Object(N.jsxs)("fieldset",{children:[Object(N.jsx)("legend",{children:Object(N.jsx)(B.a,{})}),Object(N.jsx)(B.a,{})]})})}),Object(N.jsx)("div",{className:"container center",children:Object(N.jsx)("div",{className:"cards",children:Object(N.jsxs)("fieldset",{children:[Object(N.jsx)("legend",{children:Object(N.jsx)(B.a,{})}),Object(N.jsx)(B.a,{})]})})}),Object(N.jsx)("div",{className:"container center",children:Object(N.jsx)("div",{className:"cards",children:Object(N.jsxs)("fieldset",{children:[Object(N.jsx)("legend",{children:Object(N.jsx)(B.a,{})}),Object(N.jsx)(B.a,{})]})})}),Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsx)(B.a,{}),Object(N.jsx)("label",{className:"form-label",children:Object(N.jsx)(B.a,{})})]}),Object(N.jsx)("div",{className:"container",children:Object(N.jsx)(B.a,{})})]})})}var M,U=c(12),P=c.n(U),J=function(){return function(e,t){var c={headers:{Authorization:t().auth.authorization}};P.a.get("https://prueba-api.nextia.mx/api/v1/member/landing_benevits",c).then((function(t){var c;e((c=t.data,{type:u,payload:{benevits:c}}))})).catch((function(e){console.log(e+" ERRORssA")}))}},q=c(9),W=c.n(q),X=c(17),Z=function(e){return{type:b,payload:{cards:e}}},V=function(e,t){return function(){var c=Object(X.a)(W.a.mark((function c(n){return W.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:P.a.post("https://prueba-api.nextia.mx/api/v1/login",{user:{email:e,password:t}}).then((function(e){var t,c,a;n((t=e.headers.authorization,c=e.data.email,a=e.data.member,{type:d,payload:{authorization:t,email:c,member:a}}))}),(function(e){console.log(e)}));case 1:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()},H=function(){var e=Object(n.useState)(!1),t=Object(y.a)(e,2),c=t[0],a=t[1],s=Object(i.b)(),r=Object(i.c)((function(e){return e.benevits})).loaded;return Object(n.useEffect)((function(){s(J()),s(function(){var e=Object(X.a)(W.a.mark((function e(t){var c;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.a.get("https://prueba-api.nextia.mx/api/v1/member/wallets");case 3:c=e.sent,t(Z(c.data)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(N.jsx)("div",{children:r?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(F,{children:Object(N.jsx)("button",{className:"btn btn-outline-danger",onClick:function(){return a(!0)},children:"Log Out"})}),Object(N.jsxs)("div",{className:"container center box",children:[Object(N.jsx)(z,{}),Object(N.jsxs)(A,{close:function(){a(!1)},show:c,children:[Object(N.jsx)("p",{children:"Est\xe1 seguro que desea cerrar su sesi\xf3n?"}),Object(N.jsxs)("div",{children:[Object(N.jsx)("button",{className:"btn btn-outline-success",onClick:function(){s(function(){var e=Object(X.a)(W.a.mark((function e(t){var c;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.a.delete("https://prueba-api.nextia.mx/api/v1/logout");case 3:c=e.sent,console.log(c),t({type:o}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())},children:"Aceptar"}),"\xa0",Object(N.jsx)("button",{className:"btn btn-outline-danger",onClick:function(){return a(!1)},children:"Cancelar"})]})]})]})]}):Object(N.jsx)(T,{})})},Q=c(52),$=c(56),G=c.n($),K=c(37),Y=P.a.create({baseURL:"https://jsonplaceholder.typicode.com"}),ee=(P.a.create({baseURL:"https://prueba-api.nextia.mx/api/v1"}),c(57)),te=function(){var e=Object(n.useState)(!1),t=Object(y.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(!1),r=Object(y.a)(s,2),l=r[0],j=r[1],d=Object(n.useState)(!0),o=Object(y.a)(d,2),b=o[0],u=o[1],O=Object(i.b)(),h=Object(n.useState)(""),x=Object(y.a)(h,2),m=x[0],v=x[1],p=Object(n.useState)(""),f=Object(y.a)(p,2),w=f[0],k=f[1],S=Object(n.useState)(""),C=Object(y.a)(S,2),F=C[0],L=C[1],I=Object(g.g)(),R=Object(i.c)((function(e){return e.auth}));return Object(n.useEffect)((function(){R&&I.push("/Benevist")}),[R]),Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(E.a,{transitionDuration:"1500",children:[Object(N.jsx)("div",{className:"container p-5",title:"dummyButton",children:Object(N.jsx)(ee.a,{initialValues:{email:"",password:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.email?"".concat(e.password).length<2&&(t.password="Password must be larger than 8 characters"):t.password="Required",""!==e.email&&""!==e.password?u(!1):u(!0),""!==e.email&&""!==e.password&&(v(e.email),k(e.password)),t},onSubmit:function(){var e=Object(X.a)(W.a.mark((function e(t,c){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.resetForm,console.log("Hola"),e.prev=2,e.next=5,P.a.post("https://prueba-api.nextia.mx/api/v1/login",{user:{email:m,password:w}});case 5:a(!0),O(V(m,w)),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0),L(e.t0.response.data.error),j(!0);case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,c){return e.apply(this,arguments)}}(),children:function(e){var t=e.values,c=e.errors,n=e.touched,a=e.handleChange,s=e.handleSubmit,r=e.handleBlur,i=e.isSubmitting;return Object(N.jsx)("div",{className:"container",children:Object(N.jsxs)("form",{className:"lob",onSubmit:s,children:[Object(N.jsx)("img",{src:_,width:"125",alt:""}),Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsx)("label",{for:"Email",className:"form-label",children:"Email:"}),Object(N.jsx)("input",{type:"email",className:"form-control",placeholder:"Email",invalid:c.email&&n.email,name:"email",onBlur:r,onChange:a,value:t.email})]}),Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsx)("label",{for:"password",className:"form-label",children:"Password:"}),Object(N.jsx)("input",{type:"password",className:"form-control",name:"password",value:t.password,onChange:a,onBlur:r,placeholder:"password"}),Object(N.jsx)(E.a,{transitionDuration:1200,children:l&&Object(N.jsx)(N.Fragment,{children:Object(N.jsx)("p",{className:"benevitlError",children:F})})})]}),Object(N.jsx)("button",{disabled:b,type:"isSubmitting",onClick:i,className:"btn btn-primary",children:"Log In"})]})})}})}),Object(N.jsx)(A,{show:c,children:Object(N.jsx)("p",{children:"Bienvenido"})})]})})},ce=Object(K.css)(M||(M=Object(Q.a)(["\ndisplay: block;\nmargin: 0 auto;\n"]))),ne=function(){var e=Object(n.useState)(void 0),t=Object(y.a)(e,2),c=t[0],a=t[1],s=function(){var e=Object(X.a)(W.a.mark((function e(){var t;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y.get("/posts/1");case 3:t=e.sent,console.log(t),a(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){setTimeout((function(){s()}),1500)}),[]),Object(N.jsx)("div",{className:"container center box containerApp",children:c?Object(N.jsx)(te,{}):Object(N.jsx)(E.a,{transitionDuration:"2000",children:Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{className:"row align-items-start",children:Object(N.jsx)(G.a,{color:"#EC5056",loading:c,size:70,css:ce})}),Object(N.jsxs)("div",{className:"row align-items-start logo",children:[Object(N.jsx)("img",{alt:"nextia",src:_,className:"rounded float-right logo"}),Object(N.jsx)("h8",{children:"Loading..."})]})]})})})},ae=function(){return Object(N.jsx)("div",{"data-testid":"home-1",children:Object(N.jsx)("div",{children:Object(N.jsx)(ne,{})})})},se=c(39);function re(e){var t=e.component,c=Object(i.c)((function(e){return e.auth})),a=null;c&&(a=c.authorization),Object(n.useEffect)((function(){console.log(c)}),[c]);for(var s=arguments.length,r=new Array(s>1?s-1:0),l=1;l<s;l++)r[l-1]=arguments[l];return Object(N.jsx)(g.b,Object(se.a)(Object(se.a)({},r),{},{children:a?Object(N.jsx)(t,{}):Object(N.jsx)(g.a,{to:"/"})}))}var ie=function(){return Object(N.jsx)(f.a,{children:Object(N.jsxs)(g.d,{children:[Object(N.jsx)(g.b,{path:"/",exact:!0,component:ae}),Object(N.jsx)(g.b,{path:"/signin",exact:!0,children:Object(N.jsx)(g.a,{to:"/"})}),Object(N.jsx)(re,{exact:!0,path:"/Benevist",component:H}),Object(N.jsx)(g.b,{path:"*",component:w})]})})};var le=function(){return Object(N.jsx)(i.a,{store:p,children:Object(N.jsx)(ie,{})})};r.a.render(Object(N.jsx)(a.a.StrictMode,{children:Object(N.jsx)(le,{})}),document.getElementById("root"))}},[[97,1,2]]]);
//# sourceMappingURL=main.893960cc.chunk.js.map